!function(){"use strict";var e={n:function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,{a:r}),r},d:function(n,r){for(var t in r)e.o(r,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:r[t]})},o:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}};let n={sessionId:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)}))};const r=e=>{const{navigator:n,screen:r}=window||{},{language:t,userAgent:c}=n||{},{colorDepth:a,height:i,width:o}=r||{};return{device_id:e,screen_height:i,screen_width:o,screen_color_depth:a,language:t,timezone:(new Date).getTimezoneOffset(),browser:{java_enabled:n?.javaEnabled(),javascript_enabled:!0,user_agent:c}}},t=()=>{const e=navigator.language||navigator.userLanguage,n=e.split("-")[0];return"zh"!==n||"zh-HK"!==e&&"zh-TW"!==e?n:"zh-HK"};var c=window.jQuery,a=e.n(c);const i=e=>awxEmbeddedLPMData.ajaxUrl.toString().replace("%%endpoint%%","airwallex_"+e);jQuery((function(e){let c="",o="",l={},u=!1;const d=function(n,r){u=!0,g(!0),_(!0),w(),((e,n)=>a().ajax({type:"POST",data:{payment_currency:e,target_currency:n,security:awxEmbeddedLPMData.nonce.createQuoteCurrencySwitcher},url:i("currency_switcher_create_quote")}))(n,r).done((function(t){const{quote:c}=t,{currencyIneligibleCWOff:a,currencyIneligibleCWOn:i,conversionRate:o,convertedAmount:u}=awxEmbeddedLPMData.textTemplate;if(c){l=c;const r={$$original_currency$$:n,$$conversion_rate$$:c.clientRate,$$converted_currency$$:c.targetCurrency,$$converted_amount$$:c.targetAmount};e(".wc-airwallex-currency-switching-base-amount").html(c.paymentAmount),e(".wc-airwallex-currency-switching-convert-text").html("").append(m(o,r)),e(".wc-airwallex-currency-switching-converted-amount").html("").append(m(u,r)),e(".wc-airwallex-currency-switching-quote-expire-convert-text").html("").append(m(i,r)),e(".wc-airwallex-lpm-currency-ineligible-switcher-on div").html(m(i,r)),e(".wc-airwallex-lpm-currency-ineligible-switcher-on").show(),s(),g(!1),_(!1)}else{p();const t={$$original_currency$$:n,$$converted_currency$$:r};e(".woocommerce-checkout .wc-airwallex-alert-box").hide(),e(".wc-airwallex-lpm-currency-ineligible-switcher-off div").html(m(a,t)),e(".wc-airwallex-lpm-currency-ineligible-switcher-off").show(),g(!0)}})).fail((function(e){p()})).always((function(){u=!1,x()}))},w=function(){e(".wc-airwallex-loader").show()},x=function(){e(".wc-airwallex-loader").hide()},s=function(){e(".wc-airwallex-currency-switching").show()},p=function(){e(".wc-airwallex-currency-switching").hide()},m=function(e,n){for(const r in n)e=e.replace(r,n[r]);return e},h=function(){return e("#billing_country").val()},y=function(){const n=e('.woocommerce-checkout input[name="payment_method"]:checked').attr("id");return n?n.replace("payment_method_",""):""},g=function(n){e(".woocommerce-checkout #place_order").prop("disabled",n)},_=function(n){n?e(".wc-airwallex-currency-switching-quote-expire-place-order-mask").show():e(".wc-airwallex-currency-switching-quote-expire-place-order-mask").hide()},f=function(){e(document.body).on("country_to_state_changed payment_method_selected updated_checkout",(function(){p(),e(".woocommerce-checkout .wc-airwallex-alert-box").hide();const n=function(){let n=!0;const r=h(),t=y();if(t in awxEmbeddedLPMData){const{availableCurrencies:a}=awxEmbeddedLPMData,{supportedCountryCurrency:i}=awxEmbeddedLPMData[t],{currencyIneligibleCWOff:l}=awxEmbeddedLPMData.textTemplate;if(r in i){o=i[r];const t={$$original_currency$$:c,$$converted_currency$$:o};c===o||(a&&a.includes(o)?d(c,o):(n=!1,e(".wc-airwallex-lpm-currency-ineligible-switcher-off div").html(m(l,t)),e(".wc-airwallex-lpm-currency-ineligible-switcher-off").show()))}else n=!1,e(".wc-airwallex-lpm-country-ineligible").show()}return n}();g(!n||u)})),e("form.woocommerce-checkout").on("checkout_place_order",(function(c,a){var i;return y()in awxEmbeddedLPMData&&(i=a?a.$checkout_form:"form.checkout",e("<input>").prop({type:"hidden",id:"airwallex_device_data",name:"airwallex_device_data",value:JSON.stringify(r(n.sessionId))}).appendTo(i),e("<input>").prop({type:"hidden",id:"airwallex_origin",name:"airwallex_origin",value:window.location.origin}).appendTo(i),e("<input>").prop({type:"hidden",id:"airwallex_target_currency",name:"airwallex_target_currency",value:o}).appendTo(i),e("<input>").prop({type:"hidden",id:"airwallex_browser_language",name:"airwallex_browser_language",value:t()}).appendTo(i)),!0}))};if(awxEmbeddedLPMData&&awxCommonData){const{env:n,locale:r}=awxCommonData;((e,n,r)=>{const t=setInterval((()=>{window.Airwallex&&(clearInterval(t),Airwallex.init({env:e,locale:n,origin:window.location.origin}),r())}),1e3)})(n,r,(()=>{})),a().ajax({type:"GET",data:{security:awxEmbeddedLPMData.nonce.getStoreCurrency},url:i("get_store_currency")}).done((function(e){c=e.currency,f()})),e("#wc-airwallex-quote-expire-confirm").text(e("#place_order").text())}}))}();